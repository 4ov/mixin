var t=require("zod");function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=/*#__PURE__*/e(require("cross-fetch")),n=t.z.object({name:t.z.string(),args:t.z.any().array()}),o=n.extend({type:t.z.literal("single")}),u=t.z.object({type:t.z.literal("group"),content:n.array()}),a=t.z.object({status:t.z.literal("fulfilled"),value:t.z.any()}),i=t.z.object({status:t.z.literal("rejected"),reason:t.z.any()}),c=a.or(i),s=c,f=c.array();s.or(f),o.or(u);var l=t.z.object({name:t.z.string(),message:t.z.string(),cause:t.z.any().optional(),stack:t.z.string().optional()});function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function h(t,e,r){return h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&y(o,r.prototype),o},h.apply(null,arguments)}function d(t){var e="function"==typeof Map?new Map:void 0;return d=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return h(t,arguments,p(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,t)},d(t)}var g=/*#__PURE__*/function(){function t(t,e,r){this.url=void 0,this.fnName=void 0,this.fnArgs=void 0,this.url=t,this.fnName=e,this.fnArgs=r}var e=t.prototype;return e.single=function(){try{var t=this;try{return Promise.resolve(r.default(t.url,{method:"POST",body:JSON.stringify({type:"single",name:t.fnName,args:t.fnArgs}),headers:{"Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(t){return s.safeParse(t)}).then(function(t){if(t.success)return t.data;throw new Error("bad Response")}).then(function(t){if("fulfilled"===t.status)return t.value;throw function(t){var e=l.safeParse(t);if(e.success){var r=e.data;return new(/*#__PURE__*/function(t){var e,n;function o(){for(var e,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(e=t.call.apply(t,[this].concat(o))||this).name=r.name,e.message=r.message,e.cause=r.cause,e.stack=r.stack,e}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,y(e,n),o}(/*#__PURE__*/d(Error)))}return new Error(t)}(t.reason)}))}catch(t){throw new Error("bad Response")}}catch(t){return Promise.reject(t)}},e.then=function(t,e){return this.single().then(t,e)},t}();module.exports=function(t,e){return new Proxy({},{get:function(t,r,n){if("$"===r)throw new Error("not implemented");return function(){try{var t=arguments;return Promise.resolve(new g(e,r.toString(),[].slice.call(t)))}catch(t){return Promise.reject(t)}}}})};
//# sourceMappingURL=client.cjs.map
